
ğŸ“„ PDF ë¬¸ì„œ ë‚´ í‘œ ë°ì´í„°ë¥¼ ì •í™•í•˜ê²Œ ì¶”ì¶œí•˜ê³  ë²¡í„°í™”í•˜ëŠ” ë°©ë²•

âœ… ë¬¸ì œ ë°°ê²½

PDF ë¬¸ì„œ ë‚´ í‘œë¥¼ ì¶”ì¶œí•˜ì—¬ ì§ˆì˜ì‘ë‹µ ì‹œìŠ¤í…œì´ë‚˜ ê²€ìƒ‰ ì‹œìŠ¤í…œì— í™œìš©í•  ë•Œ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ìì£¼ ë°œìƒí•©ë‹ˆë‹¤:

- í‘œì˜ í–‰ê³¼ ì—´ ìˆ˜ê°€ ì¼ì¹˜í•˜ì§€ ì•Šì•„ ì¸ë±ìŠ¤ ì˜¤ë¥˜ ë°œìƒ
- ì…€ ë‚´ë¶€ì— ì¤„ë°”ê¿ˆì´ ìˆì–´ í…ìŠ¤íŠ¸ê°€ ëˆ„ë½ë¨
- ì…€ ë³‘í•©, ë¹„ì •í˜• í‘œ í˜•ì‹ìœ¼ë¡œ ì¸í•´ êµ¬ì¡°ê°€ ì™œê³¡ë¨
- ë©€í‹°ë¼ì¸ ì…€ì—ì„œ ë‚´ìš©ì´ ì˜ë¦¬ê±°ë‚˜ ìˆœì„œê°€ ë’¤ë°”ë€œ

âœ… í•´ê²°ì„ ìœ„í•œ 3ë‹¨ê³„ ì „ëµ

1. PDF í‘œ ì¶”ì¶œ ë„êµ¬ ì„ íƒ

í‘œ êµ¬ì¡°ì™€ ìŠ¤íƒ€ì¼ì— ë”°ë¼ ë‹¤ìŒ ë„êµ¬ë¥¼ ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

ğŸ“¦ Camelot

```python
import camelot
tables = camelot.read_pdf("your_file.pdf", flavor='stream', pages='1')
```

- flavor='stream': ì¤„ ê¸°ë°˜ ì¶”ì¶œ (ë©€í‹°ë¼ì¸ ì…€ì— ê°•í•¨)
- flavor='lattice': ì„ (line) ê¸°ë°˜ ì¶”ì¶œ (í…Œì´ë¸” ì„ ì´ ëª…í™•í•  ë•Œ ìœ ë¦¬)

ğŸ“¦ pdfplumber (ì„¸ë¶€ ì¢Œí‘œ ì¡°ì • ê°€ëŠ¥)

```python
import pdfplumber

with pdfplumber.open("your_file.pdf") as pdf:
    page = pdf.pages[0]
    table = page.extract_table({
        "vertical_strategy": "lines",
        "horizontal_strategy": "lines"
    })
```

2. í‘œ ë°ì´í„° ì „ì²˜ë¦¬ ë° ì •ê·œí™”

ì¶”ì¶œëœ ë°ì´í„°ëŠ” pandas.DataFrameìœ¼ë¡œ ì •ë¦¬ í›„ ì•„ë˜ ê³¼ì •ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

ğŸ“Œ ì—´ ìˆ˜ ë³´ì •

```python
import pandas as pd

def fix_row_length(row, target_length):
    return row.tolist() + [''] * (target_length - len(row))

df = pd.DataFrame(tables[0].data)
df = df.apply(lambda row: fix_row_length(row, df.shape[1]), axis=1, result_type='broadcast')
```

ğŸ“Œ ì¤„ë°”ê¿ˆ ì •ë¦¬ (ë©€í‹°ë¼ì¸ ì…€)

```python
def clean_cell(text):
    if isinstance(text, str):
        return text.replace('\n', ' ').replace('\r', ' ').strip()
    return text

df = df.applymap(clean_cell)
```

3. ìì—°ì–´ ë¬¸ì¥ìœ¼ë¡œ ë³€í™˜ ë° ë²¡í„°í™”

í‘œì˜ ê° í–‰ì„ ë”•ì…”ë„ˆë¦¬ë¡œ ë§Œë“¤ê³  ìì—°ì–´ ë¬¸ì¥ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤.

```python
rows = df.values.tolist()
header = rows[0]

sentences = []
for row in rows[1:]:
    item = dict(zip(header, row))
    sentence = f"{item['ì´ë¦„']}ì€ {item['ì§ì—…']}ì´ë©°, ë‚˜ì´ëŠ” {item['ë‚˜ì´']}ì„¸ì…ë‹ˆë‹¤."
    sentences.append(sentence)
```

ğŸ“¦ ë²¡í„°í™” ì˜ˆì‹œ (SBERT)

```python
from sentence_transformers import SentenceTransformer

model = SentenceTransformer('sentence-transformers/all-MiniLM-L6-v2')
vectors = model.encode(sentences)
```

ğŸ”§ ê³ ê¸‰ ë³´ì • ì „ëµ

- ì…€ ë³‘í•© ë˜ëŠ” ë©€í‹°ë¼ì¸ ë¬¸ì œëŠ” pdfplumber.page.charsì˜ í…ìŠ¤íŠ¸ ìœ„ì¹˜(x0, top) ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ìˆ˜ë™ ë³‘í•© ê°€ëŠ¥
- í–‰ ìˆ˜ê°€ ë‹¤ë¥´ê±°ë‚˜ ëˆ„ë½ëœ ì…€ì€ LLM (ì˜ˆ: GPT)ìœ¼ë¡œ ë³´ì • ê°€ëŠ¥
- ë³´ì • í›„ ë¬¸ì¥í™”í•˜ì—¬ ë²¡í„°í™”í•˜ë©´ ê²€ìƒ‰ ì •í™•ë„ê°€ í–¥ìƒë¨

âœ… ìš”ì•½

| ë¬¸ì œ | í•´ê²° ë°©ë²• |
|------|-----------|
| ì…€ ì¤„ ìˆ˜ ë¶ˆì¼ì¹˜ | stream ë°©ì‹ ì‚¬ìš© ë° pandasë¡œ ì—´ ê¸¸ì´ ë³´ì • |
| ì…€ ë‚´ ì¤„ë°”ê¿ˆ | \n, \r ë¬¸ì ì œê±° ë° ë³‘í•© |
| ëˆ„ë½/ì™œê³¡ëœ ì…€ | ì¢Œí‘œ ê¸°ë°˜ ìˆ˜ë™ ë³‘í•© ë˜ëŠ” GPT í™œìš© ë³´ì • |
| ë²¡í„°í™” ë¶€ì •í™• | ìì—°ì–´ ë¬¸ì¥í™” í›„ SBERT ë“±ìœ¼ë¡œ ì„ë² ë”© |
